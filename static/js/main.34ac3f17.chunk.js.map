{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","handleChange","e","setState","currentTarget","handleSubmit","preventDefault","props","changeQuery","this","className","styles","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","defaultProps","ImageGalleryItem","url","alt","src","ImageGalleryItemImage","ImageGallery","images","openModal","map","id","webformatURL","tags","largeImageURL","onClick","Button","buttonConteiner","Spiner","color","margin","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","console","log","removeEventListener","createPortal","Overlay","children","fetchData","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","App","isLoading","showModal","modalImg","modalAlt","error","onChangeQuery","query","fetchImages","options","prevState","windowScroll","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","shouldRenderLoadMoreButton","length","style","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.34ac3f17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jeGcT\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1CTeg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonConteiner\":\"Button_buttonConteiner__2CKIV\",\"Button\":\"Button_Button__3jLt4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1hWUU\",\"Modal\":\"Modal_Modal__g8Juh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1v0BW\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__epXyF\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static defaultProps = {\n    value: '',\n  };\n\n  static propTypes = {\n    value: PropTypes.string,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.changeQuery(this.state.value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ url, alt }) => {\n  return <img src={url} alt={alt} className={styles.ImageGalleryItemImage} />;\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n        return (\n          <li\n            className={styles.ImageGalleryItem}\n            key={id}\n            onClick={() => {\n              openModal(largeImageURL, tags);\n            }}\n          >\n            <ImageGalleryItem url={webformatURL} alt={tags} />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={styles.buttonConteiner}>\n      <button className={styles.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nconst Spiner = () => {\n  return (\n    <div>\n      <Loader\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        margin=\"auto\"\n        height={100}\n        width={100}\n      />\n    </div>\n  );\n};\nexport default Spiner;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import axios from 'axios';\n\nconst KEY = '20017533-65de147d74af2931235cb6855';\n\nconst fetchData = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default fetchData;\n","import React, { Component } from 'react';\nimport './App.css';\nimport SearchBar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Spinner from './components/Loader';\nimport Modal from './components/Modal';\nimport fetchData from './api';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    currentPage: 1,\n    images: [],\n    isLoading: false,\n    showModal: false,\n    modalImg: '',\n    modalAlt: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    fetchData(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.windowScroll();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  windowScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  openModal = (url, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImg: url,\n      modalAlt: alt,\n    }));\n  };\n\n  render() {\n    const { error, images, isLoading, showModal, modalImg, modalAlt } =\n      this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n    return (\n      <>\n        <SearchBar changeQuery={this.onChangeQuery} />\n\n        {error && (\n          <h1 style={{ color: '#ff0000', textAlign: 'center' }}>\n            Something going wrong\n          </h1>\n        )}\n\n        <ImageGallery images={images} openModal={this.openModal} />\n\n        {isLoading && <Spinner />}\n\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={modalImg} alt={modalAlt} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1ppc0\",\"SearchForm\":\"Searchbar_SearchForm__UVQrw\",\"SearchFormButton\":\"Searchbar_SearchFormButton__32JVO\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__secKU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2ndiJ\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1vHBm\"};"],"sourceRoot":""}